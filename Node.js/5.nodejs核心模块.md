# 模块系统

## 核心模块

- Node为JS提供了很多服务器级别的API，这些API绝大多数都被包装到了一个具名的核心模块中
- 例如：
  - 文件操作的fs模块
  - http服务构建的http模块
  - path路径操作模块
  - os操作系统信息模块
  - ...
- 要使用核心模块，必须  var fs = require('fs')
   在对应文件夹下, npm install art-template, 该命令在哪里执行, 就会把包下载到哪里. 默认会下载到node_modules目录中 (不要改)    然后require('art-template') 即可
	 package.json	

### 读取文件

```
var fs = require('fs')
fs.readFile(path,function(error,data){     //文件存储本身是二进制的,data默认转化成了16进制
    if(error){
    	console.log(error)            //error对象
    }else{
        console.log(data.toString())       //data是16进制
    }
})

//成功   error null     data 数据
//失败   error 错误对象  data null

fs.writeFile(path,content,function(error){    //函数参数只有error一个参数
    if(error){
        console.log(error);
    }else{
        console.log('写入成功')
    }
})
```

### HTTP

```
var http = require('http')
var server = http.createServer()
server.on('request',function(req,res){
	console.log("请求成功,请求路径为："+req.url)
	console.log("请求的地址是"+req.socket.remoteAddress)
	console.log("请求的端口号是"+req.socket.remotePort)
	var url = req.url
	if(url === "/"){
        res.setHeader('Content-Type','text/plain;charset=utf-8')
        res.end("hello世界")
	}else if(url === "/html"){
	//在服务端默认发送的数据，其实是utf-8编码的内容
	//但是浏览器不知道是utf-8编码的内容，中文操作系统默认是gbk
		res.setHeader('Content-Type','text/html;charset=utf-8')
        res.end("<h1>您好</h1>")
	}
})
server.listen(3000,function(){
    console.log("服务器启动成功")
})

//IP用来定位计算机，端口号用来定位应用程序
//一切需要联网通信的软件都会占用一个端口号 0-65536之间
//可以开启多个服务，但一定要确保不同服务占用的端口号不同
```

### 操作系统（获取机器信息）

```
var os = require('os')
console.log(os.cpus());
console.log(os.totalmem());
```

### 获取路径

```
var path = require('path')
console.log(path.extname('c:/a/b/c/hello.txt));
```

## 第三方模块

- art-template  模板渲染
- Express
  - 第三方Web开发框架
  - 高度封装了http模块
  - 更加专注于业务, 而非底层细节
  - 知其所以然 

## 自己写的模块



- 软件开发版本里面涉及到软件工程学
  - 大版本(新增功能比较多,去除某些功能).新功能.修复bug   -----   x.x.x